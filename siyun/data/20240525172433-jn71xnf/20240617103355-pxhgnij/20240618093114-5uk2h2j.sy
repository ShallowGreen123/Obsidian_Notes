{"ID":"20240618093114-5uk2h2j","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f4dd","id":"20240618093114-5uk2h2j","title":"CLion + STM32 环境搭建","type":"doc","updated":"20240619112215"},"Children":[{"ID":"20240618093121-oubw40a","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240618093121-oubw40a","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"Clion + STM32"}]},{"ID":"20240618111718-j622ith","Type":"NodeParagraph","Properties":{"id":"20240618111718-j622ith","updated":"20240618112825"},"Children":[{"Type":"NodeText","Data":"参考资料："}]},{"ID":"20240618144224-ys0yisw","Type":"NodeParagraph","Properties":{"id":"20240618144224-ys0yisw","updated":"20240618144224"},"Children":[{"Type":"NodeText","Data":"https://blog.csdn.net/qq_39828850/article/details/130627833"}]},{"ID":"20240618112825-yf2pmfq","Type":"NodeParagraph","Properties":{"id":"20240618112825-yf2pmfq","updated":"20240618135346"},"Children":[{"Type":"NodeText","Data":"https://bbs.21ic.com/icview-3372446-1-1.html"}]},{"ID":"20240618112957-b892np0","Type":"NodeParagraph","Properties":{"id":"20240618112957-b892np0","updated":"20240618113003"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://www.cnblogs.com/XuYuFan/p/18094079","TextMarkATitle":"发布于 2024-03-25 11:51","TextMarkTextContent":"non constant or forward reference address expression for section .ARM.extab 错误解决"}]},{"ID":"20240618144901-048houw","Type":"NodeParagraph","Properties":{"id":"20240618144901-048houw","updated":"20240618144936"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://www.jetbrains.com/help/clion/2023.3/embedded-development.html#build","TextMarkTextContent":"官方文档"}]},{"ID":"20240618093152-hccuolo","Type":"NodeParagraph","Properties":{"id":"20240618093152-hccuolo","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"软件环境："}]},{"ID":"20240618093201-lt52sdb","Type":"NodeList","ListData":{},"Properties":{"id":"20240618093201-lt52sdb","updated":"20240618113040"},"Children":[{"ID":"20240618093202-4hplyoh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240618093202-4hplyoh","updated":"20240618093202"},"Children":[{"ID":"20240618093202-6guqnxe","Type":"NodeParagraph","Properties":{"id":"20240618093202-6guqnxe","updated":"20240618093214"},"Children":[{"Type":"NodeText","Data":"Windows10"}]}]},{"ID":"20240618093214-8sg30t9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240618093214-8sg30t9"},"Children":[{"ID":"20240618093214-u8cqnu9","Type":"NodeParagraph","Properties":{"id":"20240618093214-u8cqnu9","updated":"20240618093219"},"Children":[{"Type":"NodeText","Data":"STM32CubeMX"}]}]},{"ID":"20240618093220-hyfg9ui","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240618093220-hyfg9ui"},"Children":[{"ID":"20240618093220-ttoo93c","Type":"NodeParagraph","Properties":{"id":"20240618093220-ttoo93c","updated":"20240618093235"},"Children":[{"Type":"NodeText","Data":"Clion-2023.1.7"}]}]},{"ID":"20240618093241-g74pyns","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240618093241-g74pyns"},"Children":[{"ID":"20240618093241-blu6mje","Type":"NodeParagraph","Properties":{"id":"20240618093241-blu6mje","updated":"20240618093246"},"Children":[{"Type":"NodeText","Data":"MinGw"}]}]},{"ID":"20240618093247-0oekd1g","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240618093247-0oekd1g"},"Children":[{"ID":"20240618093247-eindkhg","Type":"NodeParagraph","Properties":{"id":"20240618093247-eindkhg","updated":"20240618093251"},"Children":[{"Type":"NodeText","Data":"OpenOCD"}]}]},{"ID":"20240618093252-hyt6bmj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240618093252-hyt6bmj"},"Children":[{"ID":"20240618093252-9tt9vdz","Type":"NodeParagraph","Properties":{"id":"20240618093252-9tt9vdz","updated":"20240618093303"},"Children":[{"Type":"NodeText","Data":"arm-none-eabi-gcc"}]}]}]},{"ID":"20240618094117-9jbxsv4","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240618094117-9jbxsv4","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"软件安装"}]},{"ID":"20240618093314-qnlmaz3","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240618093314-qnlmaz3","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"1. "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"STM32CubeMX下载"}]},{"ID":"20240618095425-pkrj1jp","Type":"NodeParagraph","Properties":{"id":"20240618095425-pkrj1jp","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"去官网下载最新的即可，"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://www.st.com.cn/zh/development-tools/stm32cubemx.html","TextMarkTextContent":"点击跳转到官网"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240618093800-8zi8qzk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240618093800-8zi8qzk","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"2. "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Clion下载"}]},{"ID":"20240618095421-rhrc22j","Type":"NodeParagraph","Properties":{"id":"20240618095421-rhrc22j","updated":"20240618113040"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://www.jetbrains.com/clion/download/#section=windows","TextMarkTextContent":"点击跳转到官网"},{"Type":"NodeText","Data":"，因为 CLion 是收费的，下面给出了破解工具。"}]},{"ID":"20240618093936-y809vkf","Type":"NodeParagraph","Properties":{"id":"20240618093936-y809vkf","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"链接：https://pan.baidu.com/s/1PV-H6eipslZMQmx0NSq96Q?pwd=o0t7\n提取码：o0t7"}]},{"ID":"20240618102356-1i9zot3","Type":"NodeParagraph","Properties":{"id":"20240618102356-1i9zot3","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"在 CLion 安装破解完成后，打开 File -\u003e Setting 设置界面，搜索 update，然后关闭掉所有的更新；"}]},{"ID":"20240618102544-firz53h","Type":"NodeParagraph","Properties":{"id":"20240618102544-firz53h","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618102544-u1q4ctu.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618102549-e9z5f3i","Type":"NodeParagraph","Properties":{"id":"20240618102549-e9z5f3i","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"CLion 打印中文乱码的问题：在 setting 中搜索 files encoder 将文件编码改为 UTF-8 后点击 OK，最后在右下角选择文件编码为 GBK。"}]},{"ID":"20240618094447-2jr3505","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240618094447-2jr3505","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"3. "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"MinGW下载"}]},{"ID":"20240618095418-7qvccxu","Type":"NodeParagraph","Properties":{"id":"20240618095418-7qvccxu","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"Clion 需要使用 MinGW 环境来配置工具链，"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://sourceforge.net/projects/mingw-w64/files/","TextMarkTextContent":"下载链接"},{"Type":"NodeText","Data":"，下载安装 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MinGW-W64-install.exe"},{"Type":"NodeText","Data":"​。"}]},{"ID":"20240618094901-zlhovvb","Type":"NodeParagraph","Properties":{"id":"20240618094901-zlhovvb","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"打开 MinGW 安装管理器，安装下面的 package。"}]},{"ID":"20240618094832-dndnid4","Type":"NodeParagraph","Properties":{"id":"20240618094832-dndnid4","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 76%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618094832-32jxucl.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 76%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618094834-9f1fv0u","Type":"NodeParagraph","Properties":{"id":"20240618094834-9f1fv0u","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"配置系统的环境变量，在 Path环 境变量里面添加一条，指向 MinGW 的 bin 文件夹："}]},{"ID":"20240618095218-xqrh115","Type":"NodeParagraph","Properties":{"id":"20240618095218-xqrh115","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618095218-u99gl9o.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618095226-qkm6r2b","Type":"NodeParagraph","Properties":{"id":"20240618095226-qkm6r2b","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"最后保存环境变量，打开命令行窗口，输入 gcc -v 去验证是否安装成功。"}]},{"ID":"20240618095523-1zq4sil","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240618095523-1zq4sil","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"4. OpenOCD 下载"}]},{"ID":"20240618095537-6s1meby","Type":"NodeParagraph","Properties":{"id":"20240618095537-6s1meby","updated":"20240618113040"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://gnutoolchains.com/arm-eabi/openocd/","TextMarkTextContent":"点击下载"},{"Type":"NodeText","Data":"，"}]},{"ID":"20240618095805-tn6irrv","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240618095805-tn6irrv","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"5. "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"arm-none-eabi-gcc下载"}]},{"ID":"20240618095819-09w7dxa","Type":"NodeParagraph","Properties":{"id":"20240618095819-09w7dxa","updated":"20240618113040"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://developer.arm.com/downloads/-/gnu-rm","TextMarkTextContent":"点击下载"},{"Type":"NodeText","Data":"，选择ZIP压缩包形式的："}]},{"ID":"20240618095855-e6yrqfk","Type":"NodeParagraph","Properties":{"id":"20240618095855-e6yrqfk","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 47%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618095855-cno35fg.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 47%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618095905-amhz8sg","Type":"NodeParagraph","Properties":{"id":"20240618095905-amhz8sg","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"解压到一个文件夹，并把安装目录下的bin文件夹添加到环境变量："}]},{"ID":"20240618100057-3y6k6fq","Type":"NodeParagraph","Properties":{"id":"20240618100057-3y6k6fq","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"最后保存环境变量，重启命令行，输入 arm-none-eabi-gcc -v 去验证是否安装成功。"}]},{"ID":"20240618102033-ewuizve","Type":"NodeParagraph","Properties":{"id":"20240618102033-ewuizve","updated":"20240618113040"}},{"ID":"20240618111732-oz2ujgx","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240618111732-oz2ujgx","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"CLion 配置"}]},{"ID":"20240618112042-motdxh7","Type":"NodeParagraph","Properties":{"id":"20240618112042-motdxh7","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"Clion 是基于 CMake 来管理项目的，所以首选我们需要配置好预设的 MinGW 和 CMake 环境。"}]},{"ID":"20240618112221-4hgqzk1","Type":"NodeParagraph","Properties":{"id":"20240618112221-4hgqzk1","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"建议自己新建一个环境，避免默认环境以后做 C 语言开发出现问题。"}]},{"ID":"20240618112042-6g4c1ke","Type":"NodeParagraph","Properties":{"id":"20240618112042-6g4c1ke","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"打开"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"File -\u0026gt; Settings -\u0026gt; Build,Execution,Deployment"},{"Type":"NodeText","Data":"​选项卡，在"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Toolchains"},{"Type":"NodeText","Data":"​下面添加一个MinGW环境："}]},{"ID":"20240618112115-uhbeiq6","Type":"NodeParagraph","Properties":{"id":"20240618112115-uhbeiq6","updated":"20240618113040"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"text","TextMarkTextContent":"注意 "},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"strong text","TextMarkTextContent":"Debugger"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"},{"Type":"NodeText","Data":" "},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"text","TextMarkTextContent":"不要改，否则断点调试的时候无法连接。"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"}]},{"ID":"20240618111943-bpd19ji","Type":"NodeParagraph","Properties":{"id":"20240618111943-bpd19ji","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 895px;","style":"width: 885px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618111943-64f20cq.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 885px;\" parent-style=\"width: 895px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618112140-eyjfcp6","Type":"NodeParagraph","Properties":{"id":"20240618112140-eyjfcp6","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"然后点击 CMake，确认一下 Debug 用的环境是不是 MinGW STM32（也就是刚刚自己创建的环境）。"}]},{"ID":"20240618112529-vwp7ld4","Type":"NodeParagraph","Properties":{"id":"20240618112529-vwp7ld4","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 892px;","style":"width: 882px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618112529-ni2c3dg.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 882px;\" parent-style=\"width: 892px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618112409-83twtxs","Type":"NodeParagraph","Properties":{"id":"20240618112409-83twtxs","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"在 CLion 中配置 OpenOCD 和 STM32CubeMX。"}]},{"ID":"20240618111849-qokkz8c","Type":"NodeParagraph","Properties":{"id":"20240618111849-qokkz8c","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 893px;","style":"width: 883px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618111849-69u8y31.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 883px;\" parent-style=\"width: 893px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618102031-hu8a77n","Type":"NodeParagraph","Properties":{"id":"20240618102031-hu8a77n","updated":"20240618113040"},"Children":[{"Type":"NodeText","Data":"到这里就可以去创建 STM32 的工程了。"}]},{"ID":"20240618112750-xsiouyu","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240618112750-xsiouyu","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"创建工程"}]},{"ID":"20240618140033-kr563d5","Type":"NodeParagraph","Properties":{"id":"20240618140033-kr563d5","updated":"20240618140109"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 87%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618140033-hm85s14.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 87%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618140113-q6ijomv","Type":"NodeParagraph","Properties":{"id":"20240618140113-q6ijomv","updated":"20240618140451"},"Children":[{"Type":"NodeText","Data":"然后通过 CLion 来打开 STM32CubeMX，CLion 默认选择的芯片是 STM32F030F4Px，可以点击如下图的左上角来选择不同的芯片。"}]},{"ID":"20240618140325-2pagglj","Type":"NodeParagraph","Properties":{"id":"20240618140325-2pagglj","updated":"20240618140356"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 87%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618140325-k0u92fq.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 87%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618140139-ax1cd0s","Type":"NodeParagraph","Properties":{"id":"20240618140139-ax1cd0s","updated":"20240618140815"},"Children":[{"Type":"NodeText","Data":"在 STM32Cube 配置好芯片后，在  Project Manager 中设置项目，其中要注意的是项目名要和 CLion 创建工程时的项目名一样，这样 STM32CubeMX 生成的文件就可以覆盖 CLion 的文件；"}]},{"ID":"20240618140527-tfclwdh","Type":"NodeParagraph","Properties":{"id":"20240618140527-tfclwdh","updated":"20240618140854"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 87%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618140530-unj2i2p.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 87%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618140139-sktsewx","Type":"NodeParagraph","Properties":{"id":"20240618140139-sktsewx","updated":"20240618141015"},"Children":[{"Type":"NodeText","Data":"在 Code Generator 中选择将 .c 和 .h 文件分开，方便工程的管理；"}]},{"ID":"20240618140841-m105hny","Type":"NodeParagraph","Properties":{"id":"20240618140841-m105hny","updated":"20240618140904"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 87%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618140841-9x9sx8w.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 87%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618141021-5h1uu03","Type":"NodeParagraph","Properties":{"id":"20240618141021-5h1uu03","updated":"20240618141515"},"Children":[{"Type":"NodeText","Data":"最后点击 STM32CubeMX 右上角的 GENERATE CODE 生成代码，等待 STM32CubeMX 生成代码后；"}]},{"ID":"20240618141515-4f914eu","Type":"NodeParagraph","Properties":{"id":"20240618141515-4f914eu","updated":"20240618141619"},"Children":[{"Type":"NodeText","Data":"回到 CLion 会有一个弹窗，点击跳过弹窗；在 CLion 中点击编译 (CLion 中是一个锤子图标)，编译后如下，就没有问题；"}]},{"ID":"20240618141433-om11xxs","Type":"NodeParagraph","Properties":{"id":"20240618141433-om11xxs","updated":"20240618141433"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618141433-3ppzvw4.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618141625-np91a9b","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240618141625-np91a9b","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"解决编译错误"}]},{"ID":"20240618141707-sut6xak","Type":"NodeParagraph","Properties":{"id":"20240618141707-sut6xak","updated":"20240618141947"},"Children":[{"Type":"NodeText","Data":"如果在编译的时候报下面这个错误，则可以找到 STM32F030F4PX_FLASH.ld （找后缀为 .Id 的文件），删除所有的 (READONLY) ;"}]},{"ID":"20240618141801-218zg10","Type":"NodeBlockquote","Properties":{"id":"20240618141801-218zg10","updated":"20240618141801"},"Children":[{"ID":"20240618141727-t4e2f99","Type":"NodeParagraph","Properties":{"id":"20240618141727-t4e2f99","updated":"20240618141801"},"Children":[{"Type":"NodeText","Data":"non constant or forward reference address expression for section .ARM.extab"}]},{"Type":"NodeBlockquoteMarker","Data":"\u003e"}]},{"ID":"20240618113127-i6t3a04","Type":"NodeParagraph","Properties":{"id":"20240618113127-i6t3a04","updated":"20240618142002"},"Children":[{"Type":"NodeText","Data":"原因是：最新的 STM32CubeMx 生成的 .ld 文件中含有 READONLY 关键字，此关键字只能在 gcc 11 版本及以后使用，gcc 10及以下版本解析不了报错\n解决办法参考"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://www.cnblogs.com/XuYuFan/p/18094079","TextMarkTextContent":"https://www.cnblogs.com/XuYuFan/p/18094079"},{"Type":"NodeText","Data":"\n删除掉 READONLY\n编译成功"}]},{"ID":"20240618113122-h1tafab","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240618113122-h1tafab","updated":"20240619112215"},"Children":[{"Type":"NodeText","Data":"调试烧录"}]},{"ID":"20240618142507-4so4nxd","Type":"NodeParagraph","Properties":{"id":"20240618142507-4so4nxd","updated":"20240618142534"},"Children":[{"Type":"NodeText","Data":"下面以 ST-Link 下载器为例；"}]},{"ID":"20240618142414-6s33iuj","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240618142414-6s33iuj","updated":"20240618143204"},"Children":[{"ID":"20240618143204-uaqykmf","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240618143204-uaqykmf","updated":"20240618143204"},"Children":[{"ID":"20240618143204-e2bw2r2","Type":"NodeParagraph","Properties":{"id":"20240618143204-e2bw2r2","updated":"20240618143204"},"Children":[{"Type":"NodeText","Data":"在工程目录下新建一个 Config 文件夹，添加一个 stlink.cfg 文件，并添加如下内容；"}]}]}]},{"ID":"20240618142731-l5rrzp3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240618142731-l5rrzp3","updated":"20240618142825"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"ZHNjb25maWc="},{"Type":"NodeCodeBlockCode","Data":"# choose st-link/j-link/dap-link etc.\n#adapter driver cmsis-dap\n#transport select swd\n#source [find interface/stlink.cfg]\nsource [find interface/stlink-v2.cfg]\ntransport select hla_swd\nsource [find target/stm32h7x.cfg]\n# download speed = 10MHz\nadapter speed 10000\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240618142236-h0pra28","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240618142236-h0pra28","updated":"20240618143211"},"Children":[{"ID":"20240618143211-u7asxk5","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240618143211-u7asxk5","updated":"20240618143211"},"Children":[{"ID":"20240618143211-66gnftc","Type":"NodeParagraph","Properties":{"id":"20240618143211-66gnftc","updated":"20240618143211"},"Children":[{"Type":"NodeText","Data":"点击右上角的 Edit Configurations"}]}]}]},{"ID":"20240618142233-7o91bbe","Type":"NodeParagraph","Properties":{"id":"20240618142233-7o91bbe","updated":"20240618142233"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618142233-5c61k1t.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618142543-oekim8a","Type":"NodeParagraph","Properties":{"id":"20240618142543-oekim8a","updated":"20240618142603"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 87%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618142543-5zoybdl.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 87%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618142645-a9sm8qv","Type":"NodeParagraph","Properties":{"id":"20240618142645-a9sm8qv","updated":"20240618142659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 87%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618142645-9d3m7dz.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 87%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240619112215-icla6q4","Type":"NodeParagraph","Properties":{"id":"20240619112215-icla6q4","updated":"20240619112215"}},{"ID":"20240618143233-86tlmbm","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240618143233-86tlmbm","updated":"20240618143412"},"Children":[{"Type":"NodeText","Data":"其他问题"}]},{"ID":"20240618143251-0qwlqhj","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240618143251-0qwlqhj","updated":"20240618143412"},"Children":[{"Type":"NodeText","Data":"关于 OpenOCD"}]},{"ID":"20240618143241-l8c9w5r","Type":"NodeParagraph","Properties":{"id":"20240618143241-l8c9w5r","updated":"20240618143408"},"Children":[{"Type":"NodeText","Data":"如果对自己的芯片的 .cfg 文件不知道怎么设置，可以参考 OpenOCD 自带的一系列配置文件，路径在OpenOCD安装目录的"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"share\\openocd\\scripts"},{"Type":"NodeText","Data":"​下："}]},{"ID":"20240618143241-bdnaaz5","Type":"NodeParagraph","Properties":{"id":"20240618143241-bdnaaz5","updated":"20240618143408"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240618143029-dgujjjb.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240618143241-iiamoov","Type":"NodeParagraph","Properties":{"id":"20240618143241-iiamoov","updated":"20240618143408"},"Children":[{"Type":"NodeText","Data":"只需要关注这几个目录："}]},{"ID":"20240618143241-nlozf1x","Type":"NodeList","ListData":{},"Properties":{"id":"20240618143241-nlozf1x","updated":"20240618143408"},"Children":[{"ID":"20240618143241-2xjb5oo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240618143241-2xjb5oo","updated":"20240618143241"},"Children":[{"ID":"20240618143241-jhbpvlx","Type":"NodeParagraph","Properties":{"id":"20240618143241-jhbpvlx","updated":"20240618143241"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"board"},{"Type":"NodeText","Data":"：板卡配置，各种官方板卡"}]}]},{"ID":"20240618143241-1wn7z6t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240618143241-1wn7z6t","updated":"20240618143241"},"Children":[{"ID":"20240618143241-66hje2o","Type":"NodeParagraph","Properties":{"id":"20240618143241-66hje2o","updated":"20240618143241"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"interface"},{"Type":"NodeText","Data":"：仿真器类型配置，比如ST-Link、CMSIS-DAP等都在里面"}]}]},{"ID":"20240618143241-vc3xdej","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240618143241-vc3xdej","updated":"20240618143241"},"Children":[{"ID":"20240618143241-hfwxb7o","Type":"NodeParagraph","Properties":{"id":"20240618143241-hfwxb7o","updated":"20240618143241"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"target"},{"Type":"NodeText","Data":"：芯片类型配置，STM32F1xx、STM32L0XX等等都在里面"}]}]}]},{"ID":"20240618143241-qmybln8","Type":"NodeParagraph","Properties":{"id":"20240618143241-qmybln8","updated":"20240618143408"},"Children":[{"Type":"NodeText","Data":"设置好配置文件之后，就可以点击"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"下载"},{"Type":"NodeText","Data":"或者"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"调试"},{"Type":"NodeText","Data":"按钮进行下载和在线调试了。"}]},{"ID":"20240618143241-24ys0mf","Type":"NodeParagraph","Properties":{"id":"20240618143241-24ys0mf","updated":"20240618143408"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"text","TextMarkTextContent":"在配置文件中不要加"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"code text","TextMarkTextContent":"reset_config srst_only"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"text","TextMarkTextContent":"这一句，会导致下载失败，这一句是指示系统重启的，删除不影响下载。"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"}]},{"ID":"20240618143412-9vgpq4z","Type":"NodeParagraph","Properties":{"id":"20240618143412-9vgpq4z"}}]}