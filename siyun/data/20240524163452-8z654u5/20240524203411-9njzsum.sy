{"ID":"20240524203411-9njzsum","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f431","id":"20240524203411-9njzsum","tags":"LVGL","title":" lv_font_conv 离线字体转换","type":"doc","updated":"20240528152612"},"Children":[{"ID":"20240524203726-lx6uc12","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240524203726-lx6uc12","updated":"20240528152612"},"Children":[{"Type":"NodeText","Data":"1. 安装 node.js"}]},{"ID":"20240524205836-wmk2q5t","Type":"NodeParagraph","Properties":{"id":"20240524205836-wmk2q5t","updated":"20240524205836"},"Children":[{"Type":"NodeText","Data":"node.js 下载 "},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://nodejs.cn/download/","TextMarkTextContent":"下载地址"}]},{"ID":"20240524205901-0ia1c1v","Type":"NodeParagraph","Properties":{"id":"20240524205901-0ia1c1v","updated":"20240528152544"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 56%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524205901-scavn9t.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 56%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524205906-arwfqyz","Type":"NodeParagraph","Properties":{"id":"20240524205906-arwfqyz","updated":"20240524210030"},"Children":[{"Type":"NodeText","Data":"下载好 node.js 的安装包后，改一下安装路径(也可以不改)，然后一直 next 直到安装完成；"}]},{"ID":"20240524203951-cu3oq15","Type":"NodeParagraph","Properties":{"id":"20240524203951-cu3oq15","updated":"20240524210028"},"Children":[{"Type":"NodeText","Data":"在命令提示符中输入 \"node -v \" 和 \"npm -v\"，如果出现版本号，则表示 node.js 安装成功；"}]},{"ID":"20240524204352-pi1lx02","Type":"NodeParagraph","Properties":{"id":"20240524204352-pi1lx02","updated":"20240524204927"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524204352-zju2kbj.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524203903-8y0jzcb","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240524203903-8y0jzcb","updated":"20240528152612"},"Children":[{"Type":"NodeText","Data":"2. 拉取 git 仓库"}]},{"ID":"20240524204752-4ks1jca","Type":"NodeParagraph","Properties":{"id":"20240524204752-4ks1jca","updated":"20240524204924"},"Children":[{"Type":"NodeText","Data":"拉取 lv_font_conv 仓库，在 git 中输入下面命令"}]},{"ID":"20240524204523-eqwrb40","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240524204523-eqwrb40","updated":"20240524204532"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z2l0"},{"Type":"NodeCodeBlockCode","Data":"git clone https://github.com/lvgl/lv_font_conv.git\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240524204717-x07i3lm","Type":"NodeParagraph","Properties":{"id":"20240524204717-x07i3lm","updated":"20240524204717"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524204717-x6cvaeo.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524204800-si3q82m","Type":"NodeParagraph","Properties":{"id":"20240524204800-si3q82m","updated":"20240524204927"},"Children":[{"Type":"NodeText","Data":"这步操作后会发现当前目录下多出一个 lv_font_conv 文件夹，通过 cmd 的方式打开 lv_font_conv 文件夹。"}]},{"ID":"20240524205024-w1k4y3a","Type":"NodeParagraph","Properties":{"id":"20240524205024-w1k4y3a","updated":"20240528152612"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 55%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524205024-y384a2d.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 55%;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524205027-j7blhvy","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240524205027-j7blhvy","updated":"20240525170602"},"Children":[{"Type":"NodeText","Data":"3. 安装字体转换工具"}]},{"ID":"20240524205050-p0mhte4","Type":"NodeParagraph","Properties":{"id":"20240524205050-p0mhte4","updated":"20240524205121"},"Children":[{"Type":"NodeText","Data":"在 cmd 窗口中输入 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"npm install"},{"Type":"NodeText","Data":"​，安装字体转换工具所需的依赖。"}]},{"ID":"20240524210143-sfbrs22","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240524210143-sfbrs22","updated":"20240524210151"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z2l0"},{"Type":"NodeCodeBlockCode","Data":"npm install\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240524205140-2ew9d57","Type":"NodeParagraph","Properties":{"id":"20240524205140-2ew9d57","updated":"20240524205140"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524205140-e2dtgq4.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524205141-y9epvg4","Type":"NodeParagraph","Properties":{"id":"20240524205141-y9epvg4","updated":"20240524210215"},"Children":[{"Type":"NodeText","Data":"使用下面命令将 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"lv_font_conv"},{"Type":"NodeText","Data":"​ 工具设置为全局的，这样不管在那个文件夹下，都可以使用字体转换工具了。"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"注意 -g 后面的路径选择自己仓库的路径"},{"Type":"NodeText","Data":"；"}]},{"ID":"20240524205203-kjhimb2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240524205203-kjhimb2","updated":"20240524205217"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z2l0"},{"Type":"NodeCodeBlockCode","Data":"npm install -g D:\\1mycode\\lvgl\\lv_font_conv\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240524205245-w66n1wu","Type":"NodeParagraph","Properties":{"id":"20240524205245-w66n1wu","updated":"20240524205245"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524205245-npvoysg.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524205246-vx0cgap","Type":"NodeParagraph","Properties":{"id":"20240524205246-vx0cgap","updated":"20240524205350"},"Children":[{"Type":"NodeText","Data":"执行完上面的操作后，就可以在路径 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"C:\\Users\\Administrator\\AppData\\Roaming"},{"Type":"NodeText","Data":"​ 找到 npm 文件夹，这个文件夹里面就是 lv_font_conv 工具了。"}]},{"ID":"20240524205402-nnzjqgr","Type":"NodeParagraph","Properties":{"id":"20240524205402-nnzjqgr","updated":"20240524205402"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524205402-juy28yw.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524205404-5g3kgn5","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240524205404-5g3kgn5","updated":"20240525170602"},"Children":[{"Type":"NodeText","Data":"4. 测试一下是否安装成功"}]},{"ID":"20240524205436-ep4rl8h","Type":"NodeParagraph","Properties":{"id":"20240524205436-ep4rl8h","updated":"20240524210728"},"Children":[{"Type":"NodeText","Data":"在 cmd 命令行随意打开一个目录，输入 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"lv_font_conv -h"},{"Type":"NodeText","Data":"​ ，如果出现了使用信息，则表示安装成功"}]},{"ID":"20240524210729-xsstzdp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240524210729-xsstzdp","updated":"20240524210739"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y21k"},{"Type":"NodeCodeBlockCode","Data":"lv_font_conv -h\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240524205429-2jaixvq","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240524205429-2jaixvq","updated":"20240525170602"},"Children":[{"Type":"NodeText","Data":"5. 离线生成字体"}]},{"ID":"20240524210805-9qxmttd","Type":"NodeParagraph","Properties":{"id":"20240524210805-9qxmttd","updated":"20240524210826"},"Children":[{"Type":"NodeText","Data":"测试生成字体。在路径 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"C:\\Windows\\Fonts"},{"Type":"NodeText","Data":"​ 下随便选一个字体，我选择的是下面的一款字体，把它复制到任意一个文件下面。"}]},{"ID":"20240524210842-c1h2lc2","Type":"NodeParagraph","Properties":{"id":"20240524210842-c1h2lc2","updated":"20240524210842"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524210842-sovxabq.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524210906-9t9m69y","Type":"NodeParagraph","Properties":{"id":"20240524210906-9t9m69y","updated":"20240524210906"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524210906-jhxlvrp.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524210907-v9juyp6","Type":"NodeParagraph","Properties":{"id":"20240524210907-v9juyp6","updated":"20240524210936"},"Children":[{"Type":"NodeText","Data":"用 cmd 打开字体文件夹，输入下面命令，就可以发现原来的文件夹下面多一文件夹，那里面就是我们刚刚生成的字体，其中包括四个汉字 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"你好世界"},{"Type":"NodeText","Data":"​ 和 ASCII 码为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"0x20-0x70"},{"Type":"NodeText","Data":"​ 的字符。"}]},{"ID":"20240524210924-glebgaw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240524210924-glebgaw","updated":"20240524210948"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y21k"},{"Type":"NodeCodeBlockCode","Data":"lv_font_conv --no-compress --format lvgl --font .\\simkai.ttf -o .\\conv\\simkai_20.c --bpp 4 --size 20 --symbols 你好世界 -r 0x20-0x7F\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240524211023-lf246mw","Type":"NodeParagraph","Properties":{"id":"20240524211023-lf246mw","updated":"20240524211211"},"Children":[{"Type":"NodeText","Data":"下面是对工具使用的选项做的一些解释，更多功能可是使用 lv_font_conv -h 查看；"}]},{"ID":"20240524211053-3siz1k5","Type":"NodeParagraph","Properties":{"id":"20240524211053-3siz1k5","updated":"20240524211053"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240524211022-7vempmh.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240524211023-7hxqlrd","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240524211023-7hxqlrd","updated":"20240525170602"},"Children":[{"Type":"NodeText","Data":"6. Windows 命令行脚本"}]},{"ID":"20240525170357-nzegc65","Type":"NodeParagraph","Properties":{"id":"20240525170357-nzegc65","updated":"20240525170602"},"Children":[{"Type":"NodeText","Data":"以下的脚本可以快速的使用 lv_font_conv 生成所需要的字体；注意按照注释，将所需要的信息改为自己的；"}]},{"ID":"20240525170315-3p871gi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240525170315-3p871gi","updated":"20240525170313"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y21k"},{"Type":"NodeCodeBlockCode","Data":"@REM @echo off\n@REM REM 关闭回显\n\n@REM 将代码页设置为 UTF-8，并将输出重定向到 nul，以避免在输出中看到代码页的提示信息。\nchcp 65001 \u003e nul\n\n@REM 需要生成的汉字\nset HAN_ZI=(设置关于其他旋转深度睡眠关于系统语言切换英语简体中文)\n@REM 需要生成的字体\nset FONT_NAME=SourceHanMono-Bold.otf \n@REM 存放字体所在的路径\nset FANT_PATH=D:\\dgx\\source\\Font\\source-han-mono-master\\Bold\\OTC\n\n@REM 输出字体的命名\nset OUT_FONT_NAME=Font_Han_Mono_Bold\n@REM 定义输出字体大小的一个列表\nset \"FONT_SIZE=15 16 17 18 19 20 \"\n@REM 生成字体后，输出存放的路径\nset OUT_PATH=.\\..\\ui_base\\assets\n\nfor %%i in (%FONT_SIZE%) do (\n    lv_font_conv --no-compress --format lvgl --font %FANT_PATH%\\%FONT_NAME% -o %OUT_PATH%\\%OUT_FONT_NAME%_%%i.c --bpp 4 --size %%i -r 0x20-0x7F --symbols %HAN_ZI%\n    @REM echo lv_font_conv --no-compress --format lvgl --font %FANT_PATH%\\%FONT_NAME% -o %OUT_PATH%\\%OUT_FONT_NAME%_%%i.c --bpp 4 --size %%i -r 0x20-0x7F --symbols %HAN_ZI%\n)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240525170338-ouqns52","Type":"NodeParagraph","Properties":{"id":"20240525170338-ouqns52","updated":"20240525170313"}}]}