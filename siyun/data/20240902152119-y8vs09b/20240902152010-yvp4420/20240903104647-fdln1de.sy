{"ID":"20240903104647-fdln1de","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240903104647-fdln1de","title":"PlatformIO","type":"doc","updated":"20240903150932"},"Children":[{"ID":"20240903104704-a2fhmbq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240903104704-a2fhmbq","updated":"20240903150932"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eW1s"},{"Type":"NodeCodeBlockCode","Data":"name: PlatformIO CI\n\n# GitHub Actions 的工作流语法 : https://docs.github.com/zh/actions/writing-workflows/workflow-syntax-for-github-actions\n\non:\n  workflow_dispatch:\t# 允许从Github中的Action选项中，手动运行工作流\n  push:\n    paths: # 推送以下文件时，就会运行工作流\n      - \"examples/**\"\n      - \".github/workflows/platformio.yml\"\n      - \"platformio.ini\"\n\njobs:\n  build:\n    runs-on: ubuntu-latest  # 指定的运行器环境中运行 [ubuntu-latest, macos-latest, windows-latest] ubuntu-20.04\n    strategy:\n      matrix:\n        example: \n          - examples/factory\n          - examples/test_BHI260AP\n          - examples/test_EPD\n          - examples/test_factory\n\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/cache@v4\n        with:\n          path: |\n            ~/.cache/pip\n            ~/.platformio/.cache\n          key: ${{ runner.os }}-pio\n      - uses: actions/setup-python@v5\n        with:\n          python-version: '3.11'\n    \n      - name: Install PlatformIO Core\n        run: pip install --upgrade platformio\n\n      - name: Run PlatformIO\n        run: |\n          export PLATFORMIO_SRC_DIR=${{ matrix.example }}\n          pio run\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}